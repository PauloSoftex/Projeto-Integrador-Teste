<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <title>Carrinho de compras</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
      background: #f9f9f9;
    }

    h1,
    h2 {
      text-align: center;
    }

    .container {
      display: flex;
      gap: 20px;
      flex-wrap: wrap;
    }

    .produtos,
    .carrinho {
      background: #fff;
      padding: 15px;
      border: 1px solid #ccc;
      border-radius: 8px;
      flex: 1;
      min-width: 300px;
    }

    .grid-produtos {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
      gap: 10px;
    }

    .produto,
    li {
      border: 1px solid #ddd;
      padding: 10px;
      border-radius: 6px;
      text-align: center;
      margin-bottom: 8px;
    }

    button {
      padding: 5px 10px;
      margin: 2px;
      border: none;
      border-radius: 4px;
      background: #007bff;
      color: #fff;
      cursor: pointer;
    }

    button:hover {
      background: #0056b3;
    }

    .total {
      margin-top: 15px;
      font-weight: bold;
      text-align: right;
    }

    .vazio {
      text-align: center;
      color: #666;
      font-style: italic;
    }
  </style>
</head>
<!-- Tarefas
 
design(imagens) Paulo;
bot√£o adicinar e ir para o carrinho Catarina;
carrinho aparecer o que foi adicionado Renan;
aumentar e diminir quantidade thiago;
quantificar o somatorio dos valores Fernando;
fun√ß√£o do calculo final Paulo.
-->

<body>
  <h1>üõí Mini Loja</h1>
  <div class="container">
    <!-- Produtos -->
    <div class="produtos">
      <h2>Produtos</h2>
      <div class="grid-produtos" id="listaProdutos">
      </div>
    </div>

    <!-- Carrinho -->
    <div class="carrinho">
      <h2>Carrinho</h2>
      <ul id="listaCarrinho"></ul>
      <p class="total">Total: <span id="total">R$ 0,00</span></p>
    </div>
  </div>


  <script>
    //Lista de produtos dispon√≠veis na loja

    var produtos = [
      { nome: "T√™nis", preco: 200 },
      { nome: "Livro", preco: 40 },
      { nome: "Camisa", preco: 50 },
      { nome: "Fone", preco: 120 }
    ];

    //Carrinho de compras (inicialmente vazio)

    var carrinho = [];

    // Fun√ß√£o para formatar pre√ßos em Real brasileiro

    function formatarPreco(valor) {
      return valor.toLocaleString("pt-BR", {
        style: "currency",
        currency: "BRL"
      });
    }

    // Fun√ß√£o para mostrar os produtos na p√°gina

    function mostrarProdutos() {
      var listaProdutos = document.getElementById("listaProdutos");
      listaProdutos.innerHTML = "";

      for (var i = 0; i < produtos.length; i++) {         //para cada produto, criar um elemento na lista
        listaProdutos.innerHTML += '<div class="produto">' +
          '<strong>' + produtos[i].nome + '</strong><br>' +
          formatarPreco(produtos[i].preco) + '<br>' +
          '<button onclick="adicionarAoCarrinho(' + i + ')">Adicionar</button>' +
          '</div>'
      }
    }

    // Fun√ß√£o para adicionar um produto ao carrinho

    function adicionarAoCarrinho(indiceProduto) {
      var produto = produtos[indiceProduto];

      var produtoNoCarrinho = null;     // Verificar se o produto j√° est√° no carrinho
      for (var i = 0; i < carrinho.length; i++) {
        if (carrinho[i].nome === produto.nome) {
          produtoNoCarrinho = carrinho[i];
          break;     // para de procurar quando encontrar
        }
      }

      if (produtoNoCarrinho) {                // Se j√° est√°, aumenta a quantidade
        produtoNoCarrinho.quantidade++;
      } else {                              // Se n√£o est√°, adiciona com quantidade 1
        carrinho.push({
          nome: produto.nome,
          preco: produto.preco,
          quantidade: 1
        });
      }

      atualizarCarrinho();                        // Atualiza a exibi√ß√£o do carrinho

    }

    // Fun√ß√£o para remover um produto do carrinho

    function removerDoCarrinho(nomeProduto) {
      var produtoNoCarrinho = null;                 // Encontra o produto no carrinho


      for (var i = 0; i < carrinho.length; i++) {
        if (carrinho[i].nome === nomeProduto) {
          produtoNoCarrinho = carrinho[i];
          break;

        }

      }

      if (produtoNoCarrinho) {                           // Diminui a quantidade
        produtoNoCarrinho.quantidade--;

        if (produtoNoCarrinho.quantidade <= 0) {        // Se a quantidade chegar a zero, remove o produto
          var novoCarrinho = [];                           // Cria um novo carrinho sem o produto

          for (var i = 0; i < carrinho.length; i++) {
            if (carrinho[i].nome !== nomeProduto) {
              novoCarrinho.push(carrinho[i]);
            }
          }
          carrinho = novoCarrinho;  // Atualiza o carrinho

        }
      }

      atualizarCarrinho();      // Atualiza a exibi√ß√£o do carrinho

    }


    function atualizarCarrinho() {                                       // Fun√ß√£o para atualizar a exibi√ß√£o do carrinho
      var listaCarrinho = document.getElementById("listaCarrinho");
      var totalElemento = document.getElementById("total");


      listaCarrinho.innerHTML = "";                 //Limpa a lista do carrinho

      if (carrinho.length === 0) {                  // Se o carrinho estiver vazio, mostra mensagem
        listaCarrinho.innerHTML = '<p class="vazio">Carrinho vazio</p>';
      } else {
        for (var i = 0; i < carrinho.length; i++) {       // Para cada item no carrinho, adiciona √† lista
          var item = carrinho[i];
          var precoTotal = item.preco * item.quantidade;

          listaCarrinho.innerHTML += '<li>' +
            item.nome + ' (x' + item.quantidade + ') - ' + formatarPreco(precoTotal) +
            '<br>' +
            '<button onclick="adicionarAoCarrinhoPorNome(\'' + item.nome + '\')">+</button>' +
            '</li>';
        }
      }

      var total = 0;                               // Calcula o total do carrinho
      for (var i = 0; i < carrinho.length; i++) {
        total += carrinho[i].preco * carrinho[i].quantidade;
      }

      totalElemento.textContent = formatarPreco(total);   // Atualiza o total na p√°gina

    }



 //Fun√ß√£o auxiliar para adicionar produto pelo nome


    function adicionarAoCarrinhoPorNome(nomeProduto) {
      for (var i = 0; i < carrinho.length; i++) {          // Encontra o produto na lista de produtos
        if (produtos[i].nome === nomeProduto) {
          adicionarAoCarrinho(i);
          break;
        }
      }
    }


    mostrarProdutos();                                      // Inicializa a p√°gina
    atualizarCarrinho();





  </script>

</body>

=======
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mini Loja</title>
    <link rel="stylesheet" href="./Estetica.css">
</head>
<body>
    <h1>Mini Loja</h1>
    <main id="pai">
        <div id="produto" class="box">
            <h1>Produtos</h1>
            <div id="lista-produtos"> <!-- Este √© o lugar onde os produtos ser√£o listados -->
            </div>
        </div>
        <div id="carrinho" class="box">
            <h1>Carrinho</h1>
        </div>
    </main>

    <script>
        /* Lista de produtos */
        let produtos = [
            {id: 1, nome: "Camisa", pre√ßo: 200},
            {id: 2, nome: "T√™nis", pre√ßo: 120},
            {id: 3, nome: "Livro", pre√ßo: 80},
            {id: 4, nome: "√ìculos", pre√ßo: 50},
            {id: 5, nome: "Rel√≥gio", pre√ßo: 75},
            {id: 6, nome: "Carteira", pre√ßo: 35},
        ];

        // Carrinho vazio
        let carrinho = [];

        let listaProdutos = document.getElementById("lista-produtos");
        let divCarrinho = document.getElementById("carrinho");

        // Fun√ß√£o para renderizar os produtos
        function renderizarProdutos() {
            produtos.forEach(produto => {
                const div = document.createElement("div");
                div.classList.add("produto");
                
                div.innerHTML = `
                    <p>${produto.nome} - R$ ${produto.pre√ßo}</p>
                    <button onclick="adicionarAoCarrinho(${produto.id})">Adicionar ao carrinho</button>
                `;
                listaProdutos.appendChild(div);
            });
        }

        // Fun√ß√£o para adicionar item ao carrinho
        function adicionarAoCarrinho(id) {
            let produto = produtos.find(p => p.id === id);
            if (produto) {
                carrinho.push(produto);
                atualizarCarrinho();
            }
        }

        // Fun√ß√£o para atualizar o carrinho
        function atualizarCarrinho() {
            divCarrinho.innerHTML = ""; // Limpa o carrinho antes de atualizar

            if (carrinho.length === 0) {
                divCarrinho.innerHTML = "<p>O carrinho est√° vazio.</p>";
                return;
            }

            let somaTotal = 0;

            carrinho.forEach((item, index) => {
                const itemDiv = document.createElement("p");
                itemDiv.textContent = `${item.nome} - R$ ${item.pre√ßo}`;
                divCarrinho.appendChild(itemDiv);
                somaTotal += item.pre√ßo;
            });

            const totalDiv = document.createElement("p");
            totalDiv.textContent = `Total: R$ ${somaTotal.toFixed(2)}`;
            divCarrinho.appendChild(totalDiv);
        }

        // Chama a fun√ß√£o para renderizar os produtos ao carregar a p√°gina
        renderizarProdutos();
    </script>
</body>
</html>
